# h1
## Tiivistelmät

### Intrusion Kill Chain

- Kill chain on systemaattinen prosessi, jossa hyökätään kohteeseen.
- Kill chain sisältää eri vaiheita, jotka johtavat lopulta kohteen tuhoamiseen tai muun tavoitteen saavuttamiseen.
- Tunkeutuminen tarkoittaa soluttautumista luotettuun ympäristöön ja haitan tekemistä sisältä käsin.

### The art of hacking. Lesson 4
- Active Reconnaissance tarkoittaa sitä, kun kohteeseen lähetetään tietoa. esim. porttiskannaus. 
- nmap, Luotettavin ja monikäyttöisin porttiskanneri
- Masscan, nopein porttiskanneri
- Udpprotoscanner, nopea UDP porttiskanneri


## a)

Kali:n asennuksessa ei koitunut ongelmia.

## b)

Kali-virtuaalikone on otettu pois verkosta.

<img width="405" height="160" alt="kuva" src="https://github.com/user-attachments/assets/3d410075-6f66-47ae-a130-934ab413046d" />
<br>
<br>
<img width="312" height="55" alt="kuva" src="https://github.com/user-attachments/assets/7db56201-2c4f-4d06-b5a5-8a608c9b728f" />

## c)
Skannaan 1000 tavallisinta TCP porttia komennolla:

    nmap -T4 -A localhost

Parametrit selitettynä: 
nmap = ohjelma jota käytetään, -T4 = aikataulu, -A = Käyttöjärjestelmän tunnistus, localhost = kohde.

#### Tulokset:

<img width="627" height="276" alt="kuva" src="https://github.com/user-attachments/assets/47d1947c-c357-4c14-a5f4-5979054e1198" />

skannauksen jälkeen näyttää siltä, että kaikki portit ovat kiinni. Tämä johtuu luultavasti siitä, että mikään sovellus ei käytä portteja.

Käyttöjärjestelmääkään ei löytynyt, koska tulosta ei saatu rajattua vain yhteen mahdolliseen.

## d)

Asennan ennen uutta skannausta demonit apache2 ja ssh ja tarkistan, että ne ovat aktiivisia.

<img width="633" height="326" alt="kuva" src="https://github.com/user-attachments/assets/b141bc95-dd8c-4da7-8b11-067cf97d5265" />

<img width="633" height="262" alt="kuva" src="https://github.com/user-attachments/assets/238ace36-6e30-4d93-886a-06b572d74872" />

Nyt kun molemmat ovat aktiivisia, suoritan skannauksen uudestaan.

<img width="632" height="410" alt="kuva" src="https://github.com/user-attachments/assets/660b42b4-96f0-4db8-94f6-8c7ec5868b7f" />

Tällä kertaa skannatessa löytyi kaksi porttia auki. TCP 22 ja TCP 80, jotka ovat SSH:n ja Apache2:n käytössä. Uudella skannauksella näköjään saatiin rajattua myös mahdollinen käyttöjärjestelmä linuxiin.

## e)

Asennan metasploitin Virtual Boxissa aiemmin lataamastani Virtual Hard Diskistä.

<img width="783" height="630" alt="kuva" src="https://github.com/user-attachments/assets/63537ba6-4f8c-428c-9b9b-e0ee6b64538f" />

## f) 

Teen koneiden välille virtuaaliverkon Virtual Boxissa seuraavasti:

#### Kali:

<img width="948" height="592" alt="kuva" src="https://github.com/user-attachments/assets/1dd0c9a7-5260-4e7b-9733-6fc6782bbb78" />

#### Metasploit
<img width="948" height="629" alt="kuva" src="https://github.com/user-attachments/assets/cc7a52d6-7a06-4794-9dba-940d07408093" />

## g)

Seuraavaksi yritän etsiä metasploitablen porttiskannaamalla, mutta sitä ennen varmistan että Kali ei ole yhteydessä internettiin.

<img width="646" height="200" alt="kuva" src="https://github.com/user-attachments/assets/a76895a7-49c4-4c19-9097-a56be5c8e6ec" />

Varmistuttuani tästä, voin ajaa porttiskannauskomennon

        nmap -sn

<img width="688" height="175" alt="kuva" src="https://github.com/user-attachments/assets/c9e4e9ad-c7f0-4fd0-ad03-03a9a4834aca" />

Varmistin vielä selaimella, että kyseessä on oikea IP osoite:

<img width="720" height="471" alt="kuva" src="https://github.com/user-attachments/assets/0897d4a4-53f3-4e00-9ef5-ec1088d1fc06" />

## h)

porttiskannaan metasploitin komennolla:

        nmap -T4 -p1-1000

<img width="666" height="257" alt="kuva" src="https://github.com/user-attachments/assets/328a6cc2-4a2c-4dee-b204-a8f62516a3bf" />

Kiinnostavimmat portit hyökkääjälle ovat mielestäni http, koska sieltä voi päästä käsiksi esim. tietokantaan, ja ssh, koska sitä kautta voi päästä hallitsemaan palvelinta.

## Lähteet

Tehtävänanto: https://terokarvinen.com/tunkeutumistestaus/ 

Hutchins et al. 2011. Intelligence-Driven Computer Network Defense Informed by Analysis of Adversary Campaigns and Intrusion Kill Chains. https://lockheedmartin.com/content/dam/lockheed-martin/rms/documents/cyber/LM-White-Paper-Intel-Driven-Defense.pdf

Santos et al. The Art Of Hacking. https://learning.oreilly.com/videos/the-art-of/9780135767849/9780135767849-SPTT_04_00

Kali Linux lataussivu: https://www.kali.org/

Metasploitable 2 Lataussivu: https://docs.rapid7.com/metasploit/metasploitable-2/

